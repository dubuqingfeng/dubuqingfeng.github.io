<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Android Decompiler / 初探反编译 - 独步清风's blog</title>

  <!-- CSS  -->
  <link href="/theme/css/ma.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="/theme/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <script src="/theme/js/jquery-1.11.2.min.js"></script>
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?76712397de583de526f98e457deb2a7d";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
<style type="text/css">
.highlight  { background: #202020; color: #e2e2e5}
.highlight .hll { background-color: #49483e }
.highlight .c { color: #75715e } /* Comment */
.highlight .err { color: #960050; background-color: #1e0010 } /* Error */
.highlight .k { color: #66d9ef } /* Keyword */
.highlight .l { color: #ae81ff } /* Literal */
.highlight .n { color: #f8f8f2 } /* Name */
.highlight .o { color: #f92672 } /* Operator */
.highlight .p { color: #f8f8f2 } /* Punctuation */
.highlight .cm { color: #75715e } /* Comment.Multiline */
.highlight .cp { color: #75715e } /* Comment.Preproc */
.highlight .c1 { color: #75715e } /* Comment.Single */
.highlight .cs { color: #75715e } /* Comment.Special */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .kc { color: #66d9ef } /* Keyword.Constant */
.highlight .kd { color: #66d9ef } /* Keyword.Declaration */
.highlight .kn { color: #f92672 } /* Keyword.Namespace */
.highlight .kp { color: #66d9ef } /* Keyword.Pseudo */
.highlight .kr { color: #66d9ef } /* Keyword.Reserved */
.highlight .kt { color: #66d9ef } /* Keyword.Type */
.highlight .ld { color: #e6db74 } /* Literal.Date */
.highlight .m { color: #ae81ff } /* Literal.Number */
.highlight .s { color: #e6db74 } /* Literal.String */
.highlight .na { color: #a6e22e } /* Name.Attribute */
.highlight .nb { color: #f8f8f2 } /* Name.Builtin */
.highlight .nc { color: #a6e22e } /* Name.Class */
.highlight .no { color: #66d9ef } /* Name.Constant */
.highlight .nd { color: #a6e22e } /* Name.Decorator */
.highlight .ni { color: #f8f8f2 } /* Name.Entity */
.highlight .ne { color: #a6e22e } /* Name.Exception */
.highlight .nf { color: #a6e22e } /* Name.Function */
.highlight .nl { color: #f8f8f2 } /* Name.Label */
.highlight .nn { color: #f8f8f2 } /* Name.Namespace */
.highlight .nx { color: #a6e22e } /* Name.Other */
.highlight .py { color: #f8f8f2 } /* Name.Property */
.highlight .nt { color: #f92672 } /* Name.Tag */
.highlight .nv { color: #f8f8f2 } /* Name.Variable */
.highlight .ow { color: #f92672 } /* Operator.Word */
.highlight .w { color: #f8f8f2 } /* Text.Whitespace */
.highlight .mf { color: #ae81ff } /* Literal.Number.Float */
.highlight .mh { color: #ae81ff } /* Literal.Number.Hex */
.highlight .mi { color: #ae81ff } /* Literal.Number.Integer */
.highlight .mo { color: #ae81ff } /* Literal.Number.Oct */
.highlight .sb { color: #e6db74 } /* Literal.String.Backtick */
.highlight .sc { color: #e6db74 } /* Literal.String.Char */
.highlight .sd { color: #e6db74 } /* Literal.String.Doc */
.highlight .s2 { color: #e6db74 } /* Literal.String.Double */
.highlight .se { color: #ae81ff } /* Literal.String.Escape */
.highlight .sh { color: #e6db74 } /* Literal.String.Heredoc */
.highlight .si { color: #e6db74 } /* Literal.String.Interpol */
.highlight .sx { color: #e6db74 } /* Literal.String.Other */
.highlight .sr { color: #e6db74 } /* Literal.String.Regex */
.highlight .s1 { color: #e6db74 } /* Literal.String.Single */
.highlight .ss { color: #e6db74 } /* Literal.String.Symbol */
.highlight .bp { color: #f8f8f2 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #f8f8f2 } /* Name.Variable.Class */
.highlight .vg { color: #f8f8f2 } /* Name.Variable.Global */
.highlight .vi { color: #f8f8f2 } /* Name.Variable.Instance */
.highlight .il { color: #ae81ff } /* Literal.Number.Integer.Long */

.highlight .gh { } /* Generic Heading & Diff Header */
.highlight .gu { color: #75715e; } /* Generic.Subheading & Diff Unified/Comment? */
.highlight .gd { color: #f92672; } /* Generic.Deleted & Diff Deleted */
.highlight .gi { color: #a6e22e; } /* Generic.Inserted & Diff Inserted */
#QR img {
    width: 180px;
    max-width: 100%;
    display: inline-block;
    margin: 0.8em 2em 0 2em;
}
#QR a {
    border: 0;
}
</style>
</head>
<body>
  <!-- Top-navigation -->
  <nav class="lighten-5" role="navigation">
    <div class="container nav-wrapper">
      <a id="logo-container" href="http://dbqf.xyz" class="brand-logo"><span class="blue-grey-text text-darken-4">独步清风</span></a>
      <ul class="right hide-on-med-and-down">
        <li>
          <div class="black-text">
            <form onsubmit="return dispatch()">
              <div class="input-field">
                <input type="search" id="search-field" class="field" required maxlength="" name="q">
              </div>
            </form>
          </div>
        </li>
        <li><a class="waves-effect waves-light" href="https://www.xiaoye.me/" target="_blank"><span class="blue-grey-text text-darken-4">生活</span></a></li>
        <!-- <li><a class="waves-effect waves-light" href="http://dubuqingfeng-sitenav.daoapp.io/" target="_blank"><span class="blue-grey-text text-darken-4">导航</span></a></li> -->
        <li><a class="waves-effect waves-light" href="http://lab.dbqf.xyz/" target="_blank"><span class="blue-grey-text text-darken-4">实验室</span></a></li>
        <li><a class="waves-effect waves-light" href="/pages/201603-computer-books-security.html" target="_blank"><span class="blue-grey-text text-darken-4">书单</span></a></li>
        <li><a class="waves-effect waves-light" href="/feeds/all.rss.xml" target="_blank"><span class="blue-grey-text text-darken-4">RSS</span></a></li>
        <li><a class="waves-effect waves-light" href="https://github.com/dubuqingfeng" target="_blank"><span class="blue-grey-text text-darken-4">GitHub</span></a></li>
      </ul>
      <ul class="right hide-on-large-only">
        <li><a class="waves-effect waves-light" href="#"><i class="material-icons black-text">search</i></a></li>
      </ul>
      <ul id="nav-mobile" class="side-nav">
        <li><a class="waves-effect waves-light" href="https://xiaoye.me/" target="_blank"><span class="blue-grey-text text-darken-4">生活</span></a></li>
        <li><a class="waves-effect waves-light" href="http://dubuqingfeng-sitenav.daoapp.io/" target="_blank"><span class="blue-grey-text text-darken-4">导航</span></a></li>
        <li><a class="waves-effect waves-light" href="http://lab.dbqf.xyz/" target="_blank"><span class="blue-grey-text text-darken-4">实验室</span></a></li>
        <li><a class="waves-effect waves-light" href="/pages/201603-computer-books-security.html" target="_blank"><span class="blue-grey-text text-darken-4">书单</span></a></li>
        <li><a class="waves-effect waves-light" href="/feeds/all.rss.xml" target="_blank"><span class="blue-grey-text text-darken-4">RSS</span></a></li>
        <li><a class="waves-effect waves-light" href="https://github.com/dubuqingfeng" target="_blank"><span class="blue-grey-text text-darken-4">GitHub</span></a></li>
      </ul>
      <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons black-text">menu</i></a>
    </div>
  </nav>
  <div class="container">
    <div class="row template-content-page">
      <div class="col s12 m8 l9">
        <!-- Breadcrumb -->
        <div class="section">
          <ul class="collapsible" data-collapsible="accordion">
            <li>
<div class="collapsible-header active"><a href="/category/androidan-quan.html"><i class="material-icons">subject</i>【Android安全】</a><a href="#">--Android Decompiler / 初探反编译</a>              </div>
              <div class="collapsible-body"><p>本文对 Android 反编译领域进行了简要的分析，如何进行反编译，以及如何混淆如何加密如何加壳，以及其对策，进行了实践和探索。</p></div>
            </li>
          </ul>
        </div>
        <!-- Article Lists -->
<div class="section">
    <div class="card z-depth-1">
    <div class="card-content black-text">
    	<span class="card-title black-text"><a href="/posts/2016/ 6/25/201606-android-security-decompiler/index.html" class="black-text flow-text" id="title">Android Decompiler / 初探反编译</a></span>
    	<h5>0x00  TOC</h5>
<blockquote>
<p>原理</p>
<p>无混淆无加密无加壳</p>
<p>仅混淆</p>
<p>仅加密</p>
<p>仅加壳</p>
<p>自动化实现</p>
<p>一些软件</p>
<p>参考链接</p>
</blockquote>
<h5>0x01  原理</h5>
<p>首先在逆向领域，有一个是需要区别的。就是反汇编和反编译。</p>
<p>反汇编把程序的原始机器码，翻译成较便于阅读理解的汇编代码。比如IDA、OD等。</p>
<p>反编译，通常是将机器码(汇编语言)转换为高级编程语言。</p>
<p>由于Java、.net这样的基于虚拟机技术的语言都是采用了ByteCode的二进制结构，因此很容易将ByteCode转化为“抽象语法树”（简称AST，《编译原理》这门课中的概念），然后采用反编译器就可以将AST转换为代码了。</p>
<p>详细可以参考乌云上的文章<a href="http://drops.wooyun.org/papers/13686">反编译系列教程(上)</a></p>
<h5>0x02  无混淆无加密无加壳</h5>
<p>一个Android程序，如果没有进行混淆，加密，加壳等行为时，如果进行反编译的话，是可以逆向到Java源码的。</p>
<p>1.<a href="https://github.com/pxb1988/dex2jar">Dex2Jar</a>和<a href="https://github.com/java-decompiler/jd-gui">JD-GUI</a>(或者Jad)</p>
<p>先通过Dex2Jar软件将<code>classes.dex</code>转换为jar文件，然后再通过Java反编译工具JD-GUI将jar文件转换成JAVA源文件。</p>
<p>总之这是通过dex转jar，然后再转java源代码的思路。其中dex转jar也可以选择一些其他软件，例如谷歌官方的<a href="https://github.com/google/enjarify">enjarify</a>。</p>
<p>下载Dex2Jar和Jd-gui的地址：</p>
<p>Dex2Jar:<a href="https://github.com/pxb1988/dex2jar/releases">https://github.com/pxb1988/dex2jar/releases</a></p>
<p>JD-GUI:<a href="http://jd.benow.ca/">http://jd.benow.ca/</a></p>
<p>使用Dex2Jar和Jd-gui的命令：</p>
<div class="highlight"><pre><span></span>dex2jar &lt;file0&gt;
//即
./d2j-dex2jar.sh xxx.apk
java -jar jd-gui-x.y.z.jar
//或者是
java -classpath jd-gui-x.y.z.jar org.jd.gui.App
//也可以直接运行客户端
</pre></div>


<p>以下即为反汇编出来的结果。</p>
<p><img src="https://oijlbmkg8.qnssl.com/blog201606-android-security-decompiler-01.png" class="responsive-img"></p>
<p>2.APK改之理、APKDB、Android逆向助手、Android Killer之类软件</p>
<p>实际本质上还是通过Dex2jar或者apktool工具的封装。</p>
<p>还有一个Jadx的软件也比较好用。</p>
<p><img src="https://oijlbmkg8.qnssl.com/blog201606-android-security-decompiler-02.png" class="responsive-img"></p>
<p>3.在线反编译网站</p>
<p>地址：<a href="http://www.decompileandroid.com/">http://www.decompileandroid.com/</a></p>
<p>地址：<a href="http://www.ludaima.cn/android.html">http://www.ludaima.cn/android.html</a></p>
<p>只需要上传需要反编译的apk，稍等片刻，即可下载源码。</p>
<p>4.smali和Baksmali以及<a href="http://blog.avlyun.com/show/%E3%80%8Asv%E7%94%A8%E6%88%B7%E6%8C%87%E5%8D%97%E3%80%8B/">Smali Viewer</a></p>
<p>smali是将smali文件转换成dex。</p>
<p>Baksmali和smali相反，将dex转换成smali。</p>
<p>在<a href="https://www.quora.com/What-is-smali-in-Android">Quora的一篇问答</a>中，介绍了smali和baksmali的作用。</p>
<div class="highlight"><pre><span></span>Smali/Baksmali is an assembler/disassembler for the dex format used by dalvik,
 Android&#39;s Java VM implementation. The names &quot;Smali&quot; and &quot;Baksmali&quot; are the
  Icelandic equivalents of &quot;assembler&quot; and &quot;disassembler&quot; respectively.
</pre></div>


<h5>0x03  仅混淆</h5>
<p>通常Android混淆方法，有ProGuard、DexGuard和APKfuscator等。</p>
<p>怎样使用ProGuard对Android项目源码进行混淆保护，在Android Studio中build.gradle，修改以下代码片段</p>
<div class="highlight"><pre><span></span><span class="n">release</span> <span class="o">{</span>
    <span class="n">minifyEnabled</span> <span class="kc">true</span>
    <span class="n">proguardFiles</span> <span class="nf">getDefaultProguardFile</span><span class="o">(</span><span class="err">&#39;</span><span class="n">proguard</span><span class="o">-</span><span class="n">android</span><span class="o">-</span><span class="n">optimize</span><span class="o">.</span><span class="na">txt</span><span class="err">&#39;</span><span class="o">),</span>
     <span class="err">&#39;</span><span class="n">proguard</span><span class="o">-</span><span class="n">rules</span><span class="o">.</span><span class="na">pro</span><span class="err">&#39;</span>
<span class="o">}</span>
</pre></div>


<p>将<code>minifyEnabled</code>改为true。去除无效资源的话需要添加<a href="http://tools.android.com/tech-docs/new-build-system/resource-shrinking"><code>shrinkResources true</code></a>。</p>
<p>然后在<code>proguard-rules.pro</code>文件中，编写一些特定框架的混淆规则。</p>
<div class="highlight"><pre><span></span># ProGuard configurations for Bugtags
-keepattributes LineNumberTable,SourceFile

-keep class com.bugtags.library.** {*;}
-dontwarn org.apache.http.**
-dontwarn android.net.http.AndroidHttpClient
-dontwarn com.bugtags.library.**
# End Bugtags

# retrofit
-dontwarn retrofit2.**
-keep class retrofit2.** { *; }
-keepattributes Signature
-keepattributes Exceptions

# android-async-http
-dontwarn android-async-http-1.4.9.jar.**
-keep class android-async-http-1.4.9.jar.**{*;}
-keep class org.apache.http.** {*; }
</pre></div>


<p>并且混淆时需要对使用的框架进行混淆，或者是避免混淆一些类。这时就对框架的文档进行阅读，分析需要增加的混淆规则。</p>
<p>混淆的效果如下图所示。</p>
<p><img src="https://oijlbmkg8.qnssl.com/blog201606-android-security-decompiler-03.png" class="responsive-img"></p>
<p>以及加速gradle编译的配置：</p>
<div class="highlight"><pre><span></span>org.gradle.daemon=true
org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:
+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8
org.gradle.parallel=true
org.gradle.configureondemand=true
</pre></div>


<p>如何对抗这种混淆呢？这种混淆仅仅是增大了阅读难度，在反汇编之后，类名变成了a,b,c之类的。</p>
<p>dex2jar作者在<a href="http://secwiki.neu.edu.cn/wiki/images/e/eb/Android%E6%B7%B7%E6%B7%86%E6%8A%80%E5%B7%A7%E4%B8%8E%E5%8F%8D%E6%B7%B7%E6%B7%86_%E5%B0%8F%E6%B3%A2.pdf">Android混淆技巧与反混淆</a>中谈到，ProGuard有Shrinking、Optimization、Name Obfuscation、Removal of logging code等功能。在面对名字替换时，有阅读源代码、JEB、ProGuard分析等方法，Flanker大牛也分享过利用<a href="http://drops.wooyun.org/mobile/6665">JEB API编写插件分析</a>。</p>
<p>默认的混淆规则在<a href="https://android.googlesource.com/platform/sdk/+/master/files/proguard-android.txt">proguard-android.txt</a>。</p>
<p>可以使用Proguard再混淆一次，利用自己写的规则Mapping文件。</p>
<p>这里以一个文件为例。进行Proguard的混淆以及反混淆。</p>
<p>在Proguard配置文件中，添加如下语句，可打印出默认混淆规则的Mapping文件。</p>
<div class="highlight"><pre><span></span>-printmapping mapping.txt
</pre></div>


<p>在修改好对应的值以后，利用以下语句，应用Mapping文件，再建一个项目，分析对应的代码。</p>
<div class="highlight"><pre><span></span>-applymapping mapping.txt
</pre></div>


<p>最后结果如下：</p>
<p><img src="https://oijlbmkg8.qnssl.com/blog201606-android-security-decompiler-04.png" class="responsive-img"></p>
<p><img src="https://oijlbmkg8.qnssl.com/blog201606-android-security-decompiler-05.png" class="responsive-img"></p>
<p>这样反混淆了以后，降低了代码阅读的难度，增加了应用被破解的风险。</p>
<h5>0x04  仅加密</h5>
<p>加密方式有很多种，本文不能面面俱到，只能找出一些典型的。比如有流程混排加密、代码内部字符串加密，对so源码、so函数名称以及接口调用进行加密隐藏，对classes.dex中的所有函数功能代码进行提取，然后加密单独存放等。</p>
<p>当然如果面面俱到，文章篇幅就比较长了，并且实践、研究花费的时间也比较多。这里就举比较简单的例子。</p>
<p>Android签名校验：</p>
<p>在android程序中，可以使用以下代码进行签名的获取。</p>
<div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kt">int</span> <span class="nf">getSignature</span><span class="o">(</span><span class="n">String</span> <span class="n">packageName</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">PackageManager</span> <span class="n">pm</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getPackageManager</span><span class="o">();</span>
    <span class="n">PackageInfo</span> <span class="n">pi</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">sig</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">pi</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="na">getPackageInfo</span><span class="o">(</span><span class="n">packageName</span><span class="o">,</span> <span class="n">PackageManager</span><span class="o">.</span><span class="na">GET_SIGNATURES</span><span class="o">);</span>
        <span class="n">Signature</span><span class="o">[]</span> <span class="n">s</span> <span class="o">=</span> <span class="n">pi</span><span class="o">.</span><span class="na">signatures</span><span class="o">;</span>
        <span class="n">sig</span> <span class="o">=</span> <span class="n">s</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">hashCode</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e1</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">sig</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="n">e1</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">sig</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>


<p>可以在APP每次访问服务器的时候，携带上当前APP的签名，服务端做个签名验证，如果不对，直接不通过，返回客户端信息，然后客户端进行一定的处理。当然这样的话破解者也可以通过抓包的方式，抓取到签名验证的包，然后每次通信时修改对应的包即可。</p>
<h5>0x05  仅加壳</h5>
<p>so加壳，upx是最为so加壳的首选，以前在PC端也做过<a href="http://qingfeng520.blog.51cto.com/7098444/1256106">upx的脱壳</a>。</p>
<p>这里做个示例，加壳so。</p>
<p>在前一篇文章里，涉及到了如何在so里打log文件。在写好jni代码了以后，将so文件复制出来。</p>
<p>然后添加到文件夹里，如下图所示。</p>
<p><img src="https://oijlbmkg8.qnssl.com/blog201606-android-security-decompiler-06.png" class="responsive-img"></p>
<p>准备UPX壳编译环境：</p>
<div class="highlight"><pre><span></span>zlib-1.2.8.tar.gz
ucl-1.03.tar.gz
lzma443.tar.bz2
upx-hg-68db2e569c63.tar.gz
</pre></div>


<p>编译安装:</p>
<div class="highlight"><pre><span></span><span class="x">cd ucl-1.03</span>
<span class="x">./configure --prefix=</span><span class="p">$</span><span class="nv">PWD</span><span class="x">/../../upx-hg-6cd5982ece4f/build</span>
<span class="x">make</span>
<span class="x">cd zlib-1.2.8</span>
<span class="x">./configure --prefix=</span><span class="p">$</span><span class="nv">PWD</span><span class="x">/../../upx-hg-6cd5982ece4f/build</span>
<span class="x">make</span>
<span class="x">vi .bash_profile</span>
</pre></div>


<p>设置环境变量。</p>
<div class="highlight"><pre><span></span>export UPX_UCLDIR=/Users/qingfeng/software/upx/libs/ucl-1.03
export UPX_ZLIBDIR=/Users/qingfeng/software/upx/libs/zlib-1.2.8
export UPX_LZMADIR=/Users/qingfeng/software/upx/libs/lzma443
export UPX_LZMA_VERSION=0x443
export UPX_DIR=/Users/qingfeng/software/upx/upx-hg-68db2e569c63
</pre></div>


<p>查看环境变量的命令env，应用环境变量的命令<code>source .bash_profile</code>。</p>
<p>然后在编译<code>make all</code>的过程中，遇到了以下的错误。</p>
<div class="highlight"><pre><span></span>./bele_policy.h:156:9: error: unused typedef &#39;acc_cta_t__39&#39; [-Werror,-Wunused-local-typedef]
        COMPILE_TIME_ASSERT(sizeof(U16) == 2)
        ^
./conf.h:359:34: note: expanded from macro &#39;COMPILE_TIME_ASSERT&#39;
#define COMPILE_TIME_ASSERT(e)   ACC_COMPILE_TIME_ASSERT(e)
./miniacc.h:1563:54: note: expanded from macro &#39;ACC_COMPILE_TIME_ASSERT&#39;
#    define ACC_COMPILE_TIME_ASSERT(e)  {typedef int __ACC_CTA_NAME(acc_cta_t__)[1-2*!(e)];}
./miniacc.h:1531:37: note: expanded from macro &#39;__ACC_CTA_NAME&#39;
#  define __ACC_CTA_NAME(a)         ACC_PP_ECONCAT2(a,__COUNTER__)
./miniacc.h:331:41: note: expanded from macro &#39;ACC_PP_ECONCAT2&#39;
#define ACC_PP_ECONCAT2(a,b)            ACC_PP_CONCAT2(a,b)
./miniacc.h:325:41: note: expanded from macro &#39;ACC_PP_CONCAT2&#39;
#define ACC_PP_CONCAT2(a,b)             a ## b
&lt;scratch space&gt;:183:1: note: expanded from here
acc_cta_t__39
</pre></div>


<p>无论是upx是3.9.1，还是最新版，无论lzma是443版本还是最新版1610，编译的时候都会出现这个问题</p>
<p>然后试着升级了一下g++的版本，mac自带的是4.2版本，用brew升级到了4.8，然后用zsh的alias功能（vi .zshrc）将自带的替换掉，然后再编译还是不行，最后还是使用ubuntu进行编译吧。</p>
<p>然后就下了一个16.04的镜像，然后跑起了虚拟机，下载并<a href="http://www.chinapyg.com/thread-77929-1-1.html">编译那些依赖</a>，然后在upx目录下<code>make all</code>的过程中，出现了以下的问题：</p>
<div class="highlight"><pre><span></span><span class="n">compress</span><span class="p">.</span><span class="nl">cpp</span><span class="p">:</span><span class="mi">32</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span> <span class="n">fatal</span> <span class="nl">error</span><span class="p">:</span> <span class="n">zlib</span><span class="p">.</span><span class="nl">h</span><span class="p">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="n">or</span> <span class="n">directory</span>
     <span class="cp">#include</span> <span class="cpf">&lt;zlib.h&gt;</span><span class="cp"></span>
</pre></div>


<p>没找到<code>zlib.h</code>，可是自己在zlib那也<code>make</code>了啊，在查找资料的过程中，试着在zlib目录<code>make install</code>了一下，然后就编译完成了，在src目录下也有<code>./upx.out</code>了，版本是3.9.2。</p>
<p>这个时候就应该考虑so的init段的问题了。据这篇文章说，加壳的文件中需要有INIT段，添加init段的代码如下：</p>
<div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">_init</span><span class="p">(</span><span class="kt">void</span><span class="p">){}</span> <span class="err">\\</span><span class="n">c</span><span class="o">++</span>
<span class="k">extern</span> <span class="s">&quot;C&quot;</span> <span class="p">{</span><span class="kt">void</span> <span class="n">_init</span><span class="p">(</span><span class="kt">void</span><span class="p">){}}</span>    <span class="err">\\</span><span class="n">c</span>
</pre></div>


<p>然后加壳的命令如下：</p>
<div class="highlight"><pre><span></span>./upx.out -f -o libdemo_upx.so libdemo.so
</pre></div>


<p>然后脱壳自然-d参数即可，需要判断标志是否为UPX!，以及处理变形等问题，脱完壳就可以使用IDA进行android的so分析了。</p>
<h5>0x06  自动化实现</h5>
<p>如何实现一些自动化脚本，进行反汇编的还原工作。</p>
<p>当然网上已经有人实现过相关内容，比如Mac下的<a href="https://github.com/dirkvranckaert/AndroidDecompiler">AndroidDecompiler</a>，或者是<a href="https://github.com/luckyandyzhang/easy-android-decompiler">easy-android-decompiler</a>。</p>
<h5>0x07  一些软件</h5>
<blockquote>
<p>Baksmali 和 Dedexer</p>
<p>apktool</p>
<p>JEB</p>
<p>jadx</p>
<p>jdgui</p>
</blockquote>
<p>DEX转jar：</p>
<blockquote>
<p>enjarify</p>
<p>dex2jar</p>
</blockquote>
<p>app调试器：</p>
<blockquote>
<p><a href="http://gikir.com/product.php">gikdbg</a></p>
</blockquote>
<p>代码混淆软件：</p>
<blockquote>
<p>Proguard</p>
<p>DashO</p>
<p>Dexguard</p>
<p>DexProtector</p>
<p>ApkProtect</p>
<p>Shield4j</p>
<p>Stringer</p>
<p>Allitori</p>
</blockquote>
<p>对抗混淆：</p>
<blockquote>
<p><a href="https://github.com/CalebFenton/dex-oracle">dex-oracle</a></p>
<p><a href="https://github.com/CalebFenton/simplify">simplify</a></p>
<p><a href="https://github.com/konloch/bytecode-viewer">bytecode-viewer</a></p>
</blockquote>
<p><a href="https://github.com/Juude/droidReverse">逆向工程集</a></p>
<h5>0x08  参考链接</h5>
<p>当然实际情况是混淆，加密，加壳综合起来的，实际情况要具体分析。</p>
<p>参考链接：</p>
<p><a href="http://drops.wooyun.org/tips/2871">一次app抓包引发的Android分析记录</a></p>
<p><a href="http://kiya.space/2015/11/12/Android-security-tools/">Android 安全工具包（持续更新）</a></p>
<p><a href="http://blog.csdn.net/guolin_blog/article/details/49738023">Android安全攻防战，反编译与混淆技术完全解析</a></p>
<p><a href="http://drops.wooyun.org/mobile/12172">Android应用安全开发之源码安全</a></p>
<p><a href="http://www.wjdiankong.cn/blog/android%E9%80%86%E5%90%91%E4%B9%8B%E6%97%85-%E5%8F%8D%E7%BC%96%E8%AF%91%E5%88%A9%E5%99%A8apktool%E5%92%8Cjadx%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%BB%A5%E5%8F%8A%E9%94%99%E8%AF%AF%E7%BA%A0/">Android逆向之旅—反编译利器Apktool和Jadx源码分析以及错误纠正</a></p>	
		<div style="padding: 10px 0;text-align: center;">
			<br>
			<div style="margin-bottom: 5px;">美景加咖啡，一杯又一杯。</div>
			<button class="btn waves-effect waves-light" type="submit" name="action" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">打赏
			</button>
			<div id="QR" style="display: none;">
				<div id="wechat" style="display: inline-block">
					<img id="wechat_qr" class="responsive-img" src="https://oijlbmkg8.qnssl.com/blog_wechat_pay.png" alt="WeChat Pay"/>
					<p>WeChat 微信</p>
				</div>
				<div id="alipay" style="display: inline-block">
					<img id="alipay_qr" class="responsive-img" src="https://oijlbmkg8.qnssl.com/blog_ali_pay.png" alt="Alipay"/>
					<p>Alipay 支付宝</p>
				</div>
			</div>
		</div>
    </div>
    <div class="card-action">
		<a class="orange-text text-accent-2" href="/category/androidan-quan.html" onclick="">2016-06-25 17:24:00</a>
<a href="/tag/androidan-quan.html">Android安全</a><a href="/tag/decompiler.html">Decompiler</a><a href="/tag/fan-bian-yi.html">反编译</a>    </div>
    </div>
</div>
<div class="section">
    <div class="card z-depth-1">
    <div class="card-content">
			<div class="row">
				<div class="col s12">
					<h3>
					Comments(<a href="#SOHUCS" id="changyan_count_unit"></a>)
					</h3>
					<div id="disqus_thread"></div>
					<script type="text/javascript">
						var disqus_shortname = 'dubuqingfeng';
						(function() {
							var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
							dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
							(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
						})();
					</script>
					<!--PC和WAP自适应版-->
					<div id="SOHUCS" sid="201606-android-security-decompiler" ></div> 
					<script type="text/javascript"> 
					(function(){ 
					var appid = 'cyruDUH8e'; 
					var conf = 'prod_9bee29873139997442278775acae3634'; 
					var width = window.innerWidth || document.documentElement.clientWidth; 
					if (width < 960) { 
					window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>
					<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">蓝瘦，香菇，Disqus被墙了。</a></noscript>
					<div style="margin-top: 5px;">
					蓝瘦，香菇，<a href="http://disqus.com" class="dsq-brlink"><span class="logo-disqus">Disqus</span></a>被墙了。
					</div>
				</div>
			</div>
		</div>
    </div>
</div>
<script type="text/javascript" src="https://assets.changyan.sohu.com/upload/plugins/plugins.count.js">
</script>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"16"},"slide":{"type":"slide","bdImg":"1","bdPos":"right","bdTop":"105"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//dbqf.xyz/theme/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
      </div>
      <div class="col s12 m4 l3">
        <div class="section">
          <div class="card-panel z-depth-1">
            <div class="card black-text sidebar-title">
              <span class="black-text sidebar-title-text"><a href="/categories.html" class="black-text flow-text" id="title">分类</a></span>
            </div>
            <div class="row valign-wrapper">
              <div class="col s12">
                <div class="card-action">
                  <ul class="">
                    <li ><a href="/category/2014.html">【2014】</a></li>
                    <li ><a href="/category/android.html">【Android】</a></li>
                    <li class="active"><a href="/category/androidan-quan.html">【Android安全】</a></li>
                    <li ><a href="/category/bugtags.html">【Bugtags】</a></li>
                    <li ><a href="/category/chromebook.html">【chromebook】</a></li>
                    <li ><a href="/category/devops.html">【DevOps】</a></li>
                    <li ><a href="/category/dian-zi-she-ji.html">【电子设计】</a></li>
                    <li ><a href="/category/docker.html">【Docker】</a></li>
                    <li ><a href="/category/fan-hui-bian.html">【反汇编】</a></li>
                    <li ><a href="/category/git.html">【git】</a></li>
                    <li ><a href="/category/github.html">【github】</a></li>
                    <li ><a href="/category/kua-ping-tai-kai-fa.html">【跨平台开发】</a></li>
                    <li ><a href="/category/linux.html">【Linux】</a></li>
                    <li ><a href="/category/ni-xiang-jia-mi.html">【逆向加密】</a></li>
                    <li ><a href="/category/php.html">【php】</a></li>
                    <li ><a href="/category/sui-bi.html">【随笔】</a></li>
                    <li ><a href="/category/test.html">【test】</a></li>
                    <li ><a href="/category/weban-quan.html">【Web安全】</a></li>
                    <li ><a href="/category/zi-wo-guan-li.html">【自我管理】</a></li>
                    <li ><a href="/category/zi-you-ruan-jian.html">【自由软件】</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="section">
          <div class="card-panel z-depth-1">
            <div class="card black-text sidebar-title">
              <span class="black-text sidebar-title-text"><a href="/tags.html" class="black-text flow-text" id="title">标签</a></span>
            </div>
            <div class="row valign-wrapper">
              <div class="col s12">
                <div class="card-action">
                    <a class="" href="/tag/dian-zi-she-ji.html">电子设计</a>
                    <a class="" href="/tag/jie-mo-fang-ji-qi-ren.html">解魔方机器人</a>
                    <a class="" href="/tag/androidan-quan.html">Android安全</a>
                    <a class="" href="/tag/ubuntu.html">ubuntu</a>
                    <a class="" href="/tag/android.html">Android</a>
                    <a class="" href="/tag/sui-bi.html">随笔</a>
                    <a class="" href="/tag/linux.html">Linux</a>
                    <a class="" href="/tag/docker.html">Docker</a>
                    <a class="" href="/tag/git.html">git</a>
                    <a class="" href="/tag/delphijia-mi.html">delphi加密</a>
                    <a class="" href="/tag/bugguan-li.html">Bug管理</a>
                    <a class="" href="/tag/2014.html">2014</a>
                    <a class="" href="/tag/github-pages.html">github pages</a>
                    <a class="" href="/tag/cnutcon.html">CNUTCon</a>
                    <a class="" href="/tag/devops.html">DevOps</a>
                    <a class="" href="/tag/ubuntu-touch.html">ubuntu touch</a>
                    <a class="" href="/tag/logcat.html">LogCat</a>
                    <a class="" href="/tag/ruan-jian-yuan.html">软件源</a>
                    <a class="" href="/tag/decompiler.html">Decompiler</a>
                    <a class="" href="/tag/weban-quan.html">Web安全</a>
                    <a class="" href="/tag/dao-hang-lan.html">导航栏</a>
                    <a class="" href="/tag/chromebook.html">chromebook</a>
                    <a class="" href="/tag/sdl.html">SDL</a>
                    <a class="" href="/tag/pkm.html">PKM</a>
                    <a class="" href="/tag/mitm.html">mitm</a>
                    <a class="" href="/tag/android-ui.html">Android UI</a>
                    <a class="" href="/tag/ionic.html">ionic</a>
                    <a class="" href="/tag/findviewbyid.html">findViewById</a>
                    <a class="" href="/tag/rfid.html">RFID</a>
                    <a class="" href="/tag/ni-xiang.html">逆向</a>
                    <a class="" href="/tag/bugtags.html">Bugtags</a>
                    <a class="" href="/tag/php.html">php</a>
                    <a class="" href="/tag/fan-bian-yi.html">反编译</a>
                    <a class="" href="/tag/seo.html">seo</a>
                    <a class="" href="/tag/log.html">Log</a>
                    <a class="" href="/tag/vps.html">vps</a>
                    <a class="" href="/tag/pelican.html">pelican</a>
                    <a class="" href="/tag/xss.html">xss</a>
                    <a class="" href="/tag/zhi-shi-guan-li.html">知识管理</a>
                    <a class="" href="/tag/fork.html">fork</a>
                    <a class="" href="/tag/c.html">C</a>
                    <a class="" href="/tag/fan-she.html">反射</a>
                    <a class="" href="/tag/whois.html">whois</a>
                    <a class="" href="/tag/fan-hui-bian.html">反汇编</a>
                    <a class="" href="/tag/zhu-jie.html">注解</a>
                    <a class="" href="/tag/drozer.html">drozer</a>
                    <a class="" href="/tag/sdk.html">sdk</a>
                    <a class="" href="/tag/qml.html">qml</a>
                    <a class="" href="/tag/nian-zhong-zong-jie.html">年终总结</a>
                    <a class="" href="/tag/preferencefragment.html">PreferenceFragment</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="section">
          <div class="card-panel z-depth-1">
            <div class="card black-text sidebar-title">
              <span class="black-text sidebar-title-text"><a href="/archives.html" class="black-text flow-text" id="title">归档</a></span>
            </div>
            <div class="row valign-wrapper">
              <div class="col s12">
                <div class="card-action">
                  <ul class="">
                  <li><a href="/archives.html">所有文章 (32)</a></li>
                      <li><a href="/posts/2017/ 1/index.html">一月 2017 (1)</a></li>
                      <li><a href="/posts/2016/10/index.html">十月 2016 (1)</a></li>
                      <li><a href="/posts/2016/ 7/index.html">七月 2016 (1)</a></li>
                      <li><a href="/posts/2016/ 6/index.html">六月 2016 (5)</a></li>
                      <li><a href="/posts/2016/ 5/index.html">五月 2016 (1)</a></li>
                      <li><a href="/posts/2016/ 3/index.html">三月 2016 (1)</a></li>
                      <li><a href="/posts/2015/12/index.html">十二月 2015 (1)</a></li>
                      <li><a href="/posts/2015/ 8/index.html">八月 2015 (1)</a></li>
                      <li><a href="/posts/2015/ 6/index.html">六月 2015 (1)</a></li>
                      <li><a href="/posts/2015/ 5/index.html">五月 2015 (2)</a></li>
                      <li><a href="/posts/2015/ 4/index.html">四月 2015 (3)</a></li>
                      <li><a href="/posts/2015/ 3/index.html">三月 2015 (5)</a></li>
                      <li><a href="/posts/2015/ 2/index.html">二月 2015 (3)</a></li>
                      <li><a href="/posts/2014/11/index.html">十一月 2014 (1)</a></li>
                      <li><a href="/posts/2014/10/index.html">十月 2014 (1)</a></li>
                      <li><a href="/posts/2014/ 7/index.html">七月 2014 (2)</a></li>
                      <li><a href="/posts/2014/ 6/index.html">六月 2014 (2)</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="section">
          <div class="card-panel z-depth-1">
            <div class="card black-text sidebar-title">
              <span class="black-text sidebar-title-text"><a href="/tags.html" class="black-text flow-text" id="title">个人标签／个人项目链接</a></span>
            </div>
            <div class="row valign-wrapper">
              <div class="col s12">
                <div class="card-action">
                    <a class="" href="/tag/dian-zi-she-ji.html">电子设计</a>
                    <a class="" href="/tag/delphijia-mi.html">delphi加密</a>
                    <a class="" href="/tag/bugguan-li.html">Bug管理</a>
                    <a class="" href="/tag/ubuntu.html">ubuntu</a>
                    <a class="" href="/tag/2014.html">2014</a>
                    <a class="" href="/tag/github-pages.html">github pages</a>
                    <a class="" href="/tag/cnutcon.html">CNUTCon</a>
                    <a class="" href="/tag/devops.html">DevOps</a>
                    <a class="" href="/tag/sui-bi.html">随笔</a>
                    <a class="" href="/tag/linux.html">Linux</a>
                    <a class="" href="/tag/android.html">Android</a>
                    <a class="" href="/tag/ubuntu-touch.html">ubuntu touch</a>
                    <a class="" href="/tag/logcat.html">LogCat</a>
                    <a class="" href="/tag/ruan-jian-yuan.html">软件源</a>
                    <a class="" href="/tag/decompiler.html">Decompiler</a>
                    <a class="" href="/tag/weban-quan.html">Web安全</a>
                    <a class="" href="/tag/dao-hang-lan.html">导航栏</a>
                    <a class="" href="/tag/chromebook.html">chromebook</a>
                    <a class="" href="/tag/sdl.html">SDL</a>
                    <a class="" href="/tag/pkm.html">PKM</a>
                    <a class="" href="/tag/mitm.html">mitm</a>
                    <a class="" href="/tag/androidan-quan.html">Android安全</a>
                    <a class="" href="/tag/android-ui.html">Android UI</a>
                    <a class="" href="/tag/ionic.html">ionic</a>
                    <a class="" href="/tag/jie-mo-fang-ji-qi-ren.html">解魔方机器人</a>
                    <a class="" href="/tag/findviewbyid.html">findViewById</a>
                    <a class="" href="/tag/rfid.html">RFID</a>
                    <a class="" href="/tag/ni-xiang.html">逆向</a>
                    <a class="" href="/tag/bugtags.html">Bugtags</a>
                    <a class="" href="/tag/php.html">php</a>
                    <a class="" href="/tag/docker.html">Docker</a>
                    <a class="" href="/tag/fan-bian-yi.html">反编译</a>
                    <a class="" href="/tag/seo.html">seo</a>
                    <a class="" href="/tag/log.html">Log</a>
                    <a class="" href="/tag/vps.html">vps</a>
                    <a class="" href="/tag/pelican.html">pelican</a>
                    <a class="" href="/tag/xss.html">xss</a>
                    <a class="" href="/tag/git.html">git</a>
                    <a class="" href="/tag/zhi-shi-guan-li.html">知识管理</a>
                    <a class="" href="/tag/fork.html">fork</a>
                    <a class="" href="/tag/c.html">C</a>
                    <a class="" href="/tag/fan-she.html">反射</a>
                    <a class="" href="/tag/whois.html">whois</a>
                    <a class="" href="/tag/fan-hui-bian.html">反汇编</a>
                    <a class="" href="/tag/zhu-jie.html">注解</a>
                    <a class="" href="/tag/drozer.html">drozer</a>
                    <a class="" href="/tag/sdk.html">sdk</a>
                    <a class="" href="/tag/qml.html">qml</a>
                    <a class="" href="/tag/nian-zhong-zong-jie.html">年终总结</a>
                    <a class="" href="/tag/preferencefragment.html">PreferenceFragment</a>
                </div>
              </div>
            </div>
          </div>
        </div> -->
<div class="section">
  <div class="card-panel z-depth-1">
    <div class="card black-text sidebar-title">
      <span class="black-text sidebar-title-text"><a href="https://github.com/dubuqingfeng" class="black-text flow-text" id="title">GitHub</a></span>
    </div>
    <div class="row valign-wrapper">
      <div class="col s12">
        <div class="card-action">
          <ul class="" id="gh_repos">
			<li class="loading">状态更新中...</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

<script type="text/javascript">
$(document).ready(function () {
    if (!window.jXHR) {
        var jxhr = document.createElement('script');
        jxhr.type = 'text/javascript';
        jxhr.src = '/theme/js/jXHR.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
        user: 'dubuqingfeng',
        count: 5,
        skip_forks: false,
        target: '#gh_repos'
    });
});
</script>
<script type="text/javascript">
  var github = (function(){
    function escapeHtml(str) {
      return $('<div/>').text(str).html();
    }
    function render(target, repos){
      var i = 0, fragment = '', t = $(target)[0];
      fragment += '<ul class="list-group" id="github">';

      for(i = 0; i < repos.length; i++) {
        fragment += '<li class="list-group-item"><a href="'+repos[i].html_url+'">'+repos[i].name+'</a><p>'+escapeHtml(repos[i].description||'')+'</p></li>';
      }
      fragment += '</ul>';
      t.innerHTML = fragment;
    }
    return {
      showRepos: function(options){
        $.ajax({
            url: "https://api.github.com/users/"+options.user+"/repos?callback=?"
          , dataType: 'jsonp'
          , error: function (err) { $(options.target + ' li.loading').addClass('error').text("网络加载失败.."); }
          , success: function(data) {
            var repos = [];
            if (!data || !data.data) { return; }
            for (var i = 0; i < data.data.length; i++) {
              if (options.skip_forks && data.data[i].fork) { continue; }
              repos.push(data.data[i]);
            }
            repos.sort(function(a, b) {
              var aDate = new Date(a.pushed_at).valueOf(),
                  bDate = new Date(b.pushed_at).valueOf();

              if (aDate === bDate) { return 0; }
              return aDate > bDate ? -1 : 1;
            });

            if (options.count) { repos.splice(options.count); }
            render(options.target, repos);
          }
        });
      }
    };
  })();
</script>
</div>
        <div class="section">
          <div class="card-panel z-depth-1">
            <div class="card black-text sidebar-title">
              <span class="black-text sidebar-title-text"><a href="https://mp.weixin.qq.com" class="black-text flow-text" id="title">微信公众号</a></span>
            </div>
            <div class="row valign-wrapper">
              <img class="responsive-img" src="/theme/images/qrcode.jpg">
            </div>
          </div>
        </div>
        <div class="section">
          <div class="card-panel z-depth-1">
            <div class="card black-text sidebar-title">
              <span class="black-text sidebar-title-text"><a href="" class="black-text flow-text" id="title">友情链接</a></span>
            </div>
            <div class="row valign-wrapper">
              <div class="col s12">
                <div class="card-action">
                  <ul class="">
                    <li><a href="http://numberwolf.top/ME/" target="_blank">numberwolf</a></li>
                    <li><a href="http://www.monburan.cn/" target="_blank">Monburan</a></li>
                    <li><a href="http://www.sunu11.com" target="_blank">SuNu11</a></li>
                    <li><a href="http://blog.csdn.net/ifkirin" target="_blank">ifkirin</a></li>
                    <li><a href="http://www.shijiait.com/" target="_blank">武汉 php 培训</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Footer -->
  <footer class="page-footer z-depth-2">
    <div class="container footer-content">
      <div class="row">
        <div class="col l12 s12">
          <a href="#top"><button class="btn waves-effect waves-light blue darken-3 right" alt="Back To Top">Top
          </button></a>
          <a href="/resume.pdf"><button class="btn waves-effect waves-light blue darken-3" type="submit" name="action" alt="">Resume
          </button></a>
          <a href="/pages/201604-projects.html">
          <button class="btn waves-effect waves-light blue darken-3" type="submit" name="action" alt="">Projects
          </button></a>
          <a href="/pages/201604-aboutme.html">
          <button class="btn waves-effect waves-light blue darken-3" type="submit" name="action" alt="">About
          </button></a>
        </div>
      </div>
    </div>
    <div class="footer-copyright z-depth-1">
      <div class="container">
        <div class="row">
          <div class="col l12 s12 grey-text text-darken-4 hide-on-small-only">
            Powered by <a class="amber-text text-darken-4" href="http://getpelican.com" target="_blank">Pelican</a>.<a class="grey-text text-darken-4" href="http://www.miitbeian.gov.cn/">晋ICP备17004850号</a><span class="right">Theme by <a class="amber-text text-darken-4" href="http://dbqf.xyz">Dubuqingfeng</a>.
          </div>
          <div class="col l12 s12 grey-text text-darken-4 hide-on-med-and-up">
            <span class="right">Theme by <a class="amber-text text-darken-4" href="http://dbqf.xyz">Dubuqingfeng</a>.
          </div>
        </div>
      </div>
    </div>
  </footer>
  <!--  Scripts-->
  
  <script src="/theme/js/ma.min.js"></script>
  <script type="text/javascript">
    (function($){
      $(function(){
        $('.button-collapse').sideNav();
      }); // end of document ready
    })(jQuery); // end of jQuery name space
    $('.button-collapse').sideNav({menuWidth: 240, activationWidth: 70});
    function dispatch() {
        var q = document.getElementById("search-field");
        if (q.value != "") {
            var url = 'http://www.google.com/search?q=site:dbqf.xyz%20' + q.value;
            if (navigator.userAgent.indexOf('iPad') > -1 || navigator.userAgent.indexOf('iPhone') > -1 || navigator.userAgent.indexOf('iPhone') > -1) {
                location.href = url;
            } else {
                window.open(url, "_blank");
            }
            return false;
        } else {
            return false;
        }
    }
  </script>
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  </body>
</html>